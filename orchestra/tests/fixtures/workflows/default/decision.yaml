version: '2.0'

description: >
  A sample workflow that demonstrates how to use conditions
  to determine which path in the workflow to take.

input:
  - which

tasks:
  t1:
    action: std.noop
    on-complete:
      - if: <% task_state(t1) = "SUCCESS" and $.which = "a" %>
        next: a
      - if: <% task_state(t1) = "SUCCESS" and $.which = "b" %>
        next: b
      - if: <% task_state(t1) = "SUCCESS" and not $.which in list(a, b) %>
        next: c
  a:
    action: std.noop
  b:
    action: std.noop
  c:
    action: std.noop
